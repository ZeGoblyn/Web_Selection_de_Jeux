<!DOCTYPE html> <!-- Ceci est un modèle de base, penser à faire une copie avant de faire des modifications -->
<html>
	<head>
		<meta charset="utf-8"/>
		<link rel="icon" href="">
		<link rel="stylesheet" type="text/css" href="SelectImages.CSS">
		<link rel="shortcut icon" type="image/x-icon" href="../Images/Img2.jpg">
		<script type="text/javascript" src="">
			
		</script>
		<title>
			Selection des images
		</title>
	</head>

	<body>
		<header>
			<!-- Insérer un logo, informations principales -->
		</header>

		<h1>Selection d'images</h1>

		<script type="text/javascript">


			function init()
			//Fonction qui créer le conteneur des images
			{
				var total = 0;
				let X=document.getElementById("images");
				document.write("<div id='Conteneur'>");

				for (var i = 0; i < X.length; i++)
				{
					let Chaine = "Img"+(i+1);
					document.write("<img id='"+Chaine+"' src='Img_jeux/"+Chaine+".jpg' style='visibility: hidden;'>");
				}
				document.write("</div>");

				document.write("<div id='Total'>");				//Déclaration de la zone de total
					document.write("Total ="+total+"E");
				document.write("</div>");
			}



			function reset()
			//Fonction qui fait disparaître les images quand on appuie sur le bouton reset
			{
				let X=document.getElementById("images");
				for (var i = 0; i < X.length; i++)
				{
					let Chaine = "Img"+(i+1);
					document.getElementById(Chaine).style.visibility = 'hidden';
				}
			}

			function change(X)
			//Fonction qui fait apparaître ou disparaître les images quand on les sélectionne dans la liste déroulante
			//BUG : Sélection multiple avec contrôle
			{
				//let Chaine = X.value;

				for (var i = 0; i < X.length; i++)
				{
					option = X[i];
					let Str = "Img"+(i+1);

					if (option.selected)
					{
						document.getElementById(Str).style.visibility = 'visible';
					}else{
						document.getElementById(Str).style.visibility = 'hidden';
					}
				}

				calcul();
			}

			function select()
			//Fonction qui affiche le sélecteur
			{
				var prix = ['50.99', '19.99', '24.32', '5.00'];

				document.write("<select name='images' id='images' onchange='change(this)' multiple>");
				for (var i = 0; i < 4; i++)
				{
					let Chaine1 = prix[i];											//Le prix deviens la value de l'option
					let Chaine2 = "Images"+(i+1);
					let Price = prix[i];
					document.write("<option value='"+Chaine1+"'>"+Chaine2+" "+Price+"</option>");
				}
				document.write("</select>");
			}

			function calcul()
			{
				var select = document.getElementById("images");
				var total = 0;

				for(var i = 0; i < select.options.length; i++)	//Vérification des options du select
				{
					if(select.options[i].selected)
					{
						total = total + parseFloat(select.options[i].value);		//Si sélectionner, total prend valeur de l'option
					}
				}

				var zTot = document.getElementById("Total");						//Ecriture dans la zone de prix
				zTot.innerHTML = "Total ="+total+"E";
			}

			document.write("<p>Sélectionner une ou plusieures images</p>")

			select();

			init();

			/*function prix(x)
			{
				var sum = 0;
				var name = "";

				for(var i = 0; i <= X.length; i++)
				{
					option = X[i];
					if(option.selected)
					{
						name = name +""+game[i];
						sum = sum + parseFloat(option.value);
					}
				}

				document.getElementById("game").innerHTML = name;
				document.getElementById("prix").innerHTML = sum;
			}
			
			let afficheImg =document.getElementById("ouioui");
			let price=document.getElementById("price");
			let somm = 0.00;

			for(var i = 0; i < afficheImg.length; i++)
			{
				o = afficheImg[i];
				if(o.selectd == true)
				{
					document.getElementById("img"+i).setAttribute("src", tabIcon[i]);
					somm == tabPrice[i];
				}
				else
				{
					document.getElementById("img"+i).setAttribute("src", "");
				}
			}
			document.getElementById("price1").innerHTML

			*/

		</script>

		<button type="button" onclick="reset()">Reset</button>

		<br>

		<footer>
			<em></em>
			<ul>
				<li>
					Ziegeltrum Joffrey
				</li>
				<li>
					<a href="mailto:joffrey.ziegeltrum@gmail.com " target="blank" title="Pour m'envoyer un mail"> joffrey.ziegeltrum@gmail.com </a>
				</li>
			</ul>
		</footer>
	</body>
</html>